from flask import jsonify

class CustomException(Exception):
    pass

def handle_custom_exception(error):
    response = jsonify({"error": str(error)})
    response.status_code = 400
    return response

def register_error_handlers(app):
    @app.errorhandler(CustomException)
    def handle_custom_error(error):
        return handle_custom_exception(error)

    @app.errorhandler(404)
    def not_found(error):
        return jsonify({"error": "Not found"}), 404

    @app.errorhandler(500)
    def internal_error(error):
        return jsonify({"error": "Internal server error"}), 500